<ion-app>
  <ion-content [fullscreen]="true">
      <ion-card-header>
        <div class="header-content">
          <ion-card-title>
            GestEmployees
          </ion-card-title>
          
          <ion-button class="deco-button">
            Déconnexion
          </ion-button>
        </div>
      </ion-card-header>

      <ion-button class="button-add" (click)="toggleModalAdd()">
        + Add an employee
      </ion-button>

    <ion-card>
      <ion-grid>
        <ion-row>
          <ion-col>Prénom</ion-col>
          <ion-col>Nom</ion-col>
          <ion-col>Email</ion-col>
          <ion-col>Modifier</ion-col>
          <ion-col>Supprimer</ion-col>
        </ion-row>
      
        <ion-row class="employee" *ngFor="let employee of employees">

          <ion-col>{{ employee.first_name }}</ion-col>
          <ion-col>{{ employee.last_name }}</ion-col>
          <ion-col>{{ employee.email }}</ion-col>

          <ion-col>
            <ion-button (click)="setEmployeeToModify(employee)" class="modify-button">
              Modifier
            </ion-button>
          </ion-col>
 
          <ion-col>
            <ion-button (click)="setEmployeeToDelete(employee.id)" class="delete-button">
              Supprimer
            </ion-button>
          </ion-col>

        </ion-row>
      </ion-grid>
    </ion-card>

    <div class="div-modal-add" [hidden]="!showModalAdd">
      <app-add-employee (refreshEmployees)="refreshEmployees()" (closeModal)="toggleModalAdd()"></app-add-employee>
    </div>

    <div class="div-modal-modify" [hidden]="!showModalModify">
      <app-modify-employee [employee]="employeeToModify" (closeModal)="toggleModalModify()" (refreshEmployees)="refreshEmployees()"></app-modify-employee>
    </div>
  </ion-content>

    <div [hidden]="!showModalDelete"  class="modal">
        <ion-label class="footer">Voulez-vous vraiment supprimer cet employé ?</ion-label>

        <ion-buttons>
          <ion-button class="modal-button-delete" (click)="deleteEmployee(employeeToDelete)">
            Oui
          </ion-button>

          <ion-button class="modal-button-cancel" (click)="toggleModalDelete()">
            Non
          </ion-button>
        </ion-buttons>
    </div>
</ion-app>